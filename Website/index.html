<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Martin Cortes || Computer Systems Engineer</title>
  <link rel="icon" type="image/png" href="../Website/images/Logo.png">

  <!-- Preloader Styles (Critical CSS) -->
  <style>
    /* Preloader específico para móviles */
    .mobile-preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 1;
      transition: opacity 0.8s ease-out;
    }

    .mobile-preloader.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    .preloader-content {
      text-align: center;
      color: white;
    }

    .preloader-logo {
      font-size: clamp(24px, 6vw, 48px);
      font-weight: bold;
      margin-bottom: 20px;
      color: #9333ea;
      text-shadow: 
        -2px -2px 0 #000,
        2px -2px 0 #000,
        -2px 2px 0 #000,
        2px 2px 0 #000,
        0 0 10px rgba(147, 51, 234, 0.5);
      animation: pulse 2s infinite;
    }

    .preloader-spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #00d4ff;
      animation: spin 1s ease-in-out infinite;
      margin: 20px auto;
    }

    .preloader-text {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.8);
      margin-top: 15px;
      animation: fadeInOut 2s infinite;
    }

    .progress-bar {
      width: 200px;
      height: 3px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #000;
      border-radius: 4px;
      margin: 20px auto;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .progress-fill {
      height: 100%;
      background: #9333ea;
      width: 0%;
      border-radius: 2px;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px rgba(147, 51, 234, 0.7);
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
    }

    @keyframes fadeInOut {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    /* Ocultar contenido hasta que esté listo */
    body.loading {
      overflow: hidden;
    }

    body.loading .site-header,
    body.loading .section {
      opacity: 0;
      visibility: hidden;
    }

    /* Estilos de transición para cuando el contenido aparezca */
    .site-header,
    .section {
      transition: opacity 0.6s ease-out, visibility 0.6s ease-out;
    }

    /* Asegurar que las secciones mantengan su opacidad normal */
    body.loaded .site-header,
    body.loaded .section {
      opacity: 1 !important;
      visibility: visible !important;
    }

    /* Prevenir oscurecimiento progresivo en las secciones */
    .section {
      position: relative;
      z-index: 1;
    }

    .section::before {
      display: none !important;
    }

    /* Asegurar que no haya overlays oscuros */
    .section::after {
      display: none !important;
    }

    /* Media query específico para móviles */
    @media (max-width: 968px) {
      .mobile-preloader {
        background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 80%, #16213e 100%);
      }
      
      .preloader-logo {
        font-size: 32px;
        line-height: 1.2;
      }
      
      .progress-bar {
        width: 80vw;
        max-width: 250px;
      }
    }
  </style>

  <!-- CSS Files -->
  <link rel="stylesheet" href="./styles/defaultStyles.css">
  <link rel="stylesheet" href="./styles/initialAnimation.css">
  <link rel="stylesheet" href="./styles/introSection.css">
  <link rel="stylesheet" href="./styles/jobsSection.css">
  <link rel="stylesheet" href="./styles/projectSection.css">
  <link rel="stylesheet" href="./styles/contactSection.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Preload GSAP Scripts -->
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" as="script">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" as="script">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js" as="script">
</head>

<body class="loading">

  <!-- Preloader para móviles -->
  <div class="mobile-preloader" id="mobilePreloader">
    <div class="preloader-content">
      <div class="preloader-logo">MARTIN CORTES</div>
      <div class="preloader-spinner"></div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="preloader-text" id="preloaderText">Cargando experiencia...</div>
    </div>
  </div>

  <!-- Header actualizado con navegación rápida -->
  <header class="site-header" id="main-header">
    <div class="header-left">
      <div class="header-logo">MARTIN CORTES / Debugging Life</div>
      
      <!-- Botones de navegación rápida -->
      <div class="header-nav-buttons">
        <a href="#about-me" class="nav-button">About Me</a>
        <a href="#projects" class="nav-button">Projects</a>
        <a href="#jobs" class="nav-button">Jobs</a>
        <a href="#contact-me" class="nav-button">Contact</a>
      </div>
    </div>
    
    <!-- Botón hamburguesa para navegación en móviles -->
    <button class="mobile-nav-toggle" id="mobile-nav-toggle">
      <i class="fas fa-bars"></i>
    </button>
    
    <!-- Menú móvil -->
    <div class="mobile-nav-menu" id="mobile-nav-menu">
      <div class="mobile-nav-buttons">
        <a href="#about-me" class="nav-button">About Me</a>
        <a href="#projects" class="nav-button">Projects</a>
        <a href="#jobs" class="nav-button">Jobs</a>
        <a href="#contact-me" class="nav-button">Contact</a>
      </div>
      
      <!-- Iconos sociales en móvil -->
      <div class="header-nav">
        <ul>
          <li><a href="https://www.facebook.com/martin.cortes.754" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a></li>
          <li><a href="https://www.instagram.com/martin_cortia/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></li>
          <li><a href="https://www.linkedin.com/in/martin-francisco-cortes-8bb642272/" target="_blank" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a></li>
          <li><a href="https://github.com/MartinCortes20" target="_blank" title="GitHub"><i class="fab fa-github"></i></a></li>
          <li><a href="https://www.cloudskillsboost.google/public_profiles/efcb3188-68aa-40da-944b-2ed6bac305bc" target="_blank" title="Google Cloud"><i class="fab fa-google"></i></a></li>
          <li><a href="mailto:cortesbuendiamartin@gmail.com" title="Email"><i class="fas fa-envelope"></i></a></li>
        </ul>
      </div>
    </div>
    
    <!-- Iconos sociales para desktop -->
    <nav class="header-nav" id="header-nav">
      <ul>
        <li><a href="https://www.facebook.com/martin.cortes.754" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a></li>
        <li><a href="https://www.instagram.com/martin_cortia/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></li>
        <li><a href="https://www.linkedin.com/in/martin-francisco-cortes-8bb642272/" target="_blank" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a></li>
        <li><a href="https://github.com/MartinCortes20" target="_blank" title="GitHub"><i class="fab fa-github"></i></a></li>
        <li><a href="https://www.cloudskillsboost.google/public_profiles/efcb3188-68aa-40da-944b-2ed6bac305bc" target="_blank" title="Google Cloud"><i class="fab fa-google"></i></a></li>
        <li><a href="mailto:cortesbuendiamartin@gmail.com" title="Email"><i class="fas fa-envelope"></i></a></li>
      </ul>
    </nav>
  </header>

  <!-- Primera sección (animación existente) -->
  <section id="inicio" class="section section-hero">
    <div class="pov">
      <div class="tray">
        <div class="die">
          <div class="cube">
            <div class="face" style="font-size:50px">MARTIN</div>
            <div class="face" style="font-size:58px">CORTES</div>
            <div class="face" style="font-size:50px">MARTIN</div>
            <div class="face" style="font-size:58px">CORTES</div>    
          </div>
        </div>  
      </div>
    </div>
    <p class="scroll-hint">scroll to explorer</p>
  </section>

<!-- Segunda sección (About Me) -->
<section id="about-me" class="section section-about">
  <div class="about-container">
    <!-- COLUMNA 1: TEXTO -->
    <div class="about-text">
      <h2>HI THERE!</h2>
      <p class="subtitle">Computer Systems Engineering Student</p>

      <p>
        I'm a <span class="text-shuffle">passionate</span> developer focused on building innovative tech solutions. Currently in my 7th semester at ESCOM-IPN (Mexico), I have hands-on experience in both backend and frontend development.
      </p>

      <p>
        I specialize in Node.js, JavaScript, and Swift, with solid knowledge of authentication, RESTful APIs, and database design. I'm also experienced in mobile development using Flutter, and modern web technologies like React.js.
      </p>

      <p>
        My strengths include teamwork, leadership, and creative problem-solving — demonstrated through academic projects and standout participation in events like ExpoESCOM.
      </p>

      <div class="skills-highlight">
        <span class="skill-tag">Node.js</span>
        <span class="skill-tag">React.js</span>
        <span class="skill-tag">Swift</span>
        <span class="skill-tag">Flutter</span>
        <span class="skill-tag">JavaScript</span>
        <span class="skill-tag">Python</span>
        <span class="skill-tag">UX/UI</span>
      </div>
    </div>
    
    <!-- COLUMNA 2: IMÁGENES (TODAS VISIBLES) -->
    <div class="about-image">
      <!-- Las 3 imágenes se generarán dinámicamente aquí y serán visibles simultáneamente -->
    </div>

    <!-- COLUMNA 3: BURBUJAS TECNOLÓGICAS (MÁS COMPACTAS) -->
    <div class="tech-bubbles-zone" id="techBubblesZone">
      <div class="zone-title">TECH STACK</div>
      <!-- Las burbujas se generarán aquí dinámicamente en grid 3x4 -->
    </div>
  </div>
</section>

    <!-- Tercera sección (Proyectos) -->
 <section id="projects" class="section section-projects">
    <div class="container">
      <h2>MY PROJECTS</h2>
      <p class="section-subtitle">A showcase of my technical skills and problem-solving abilities</p>
      
      <div class="projects-container">
        
        <!-- Proyecto 1: Star Cluster R136 -->
        <div class="project-card">
          <div class="project-image">
            <img src="./Projects/stars.gif" alt="Star Cluster R136" />
          </div>
          <div class="project-content">
            <div class="project-title">Star Cluster R136</div>
            <div class="project-tech">
              <span class="tech-tag">Java</span>
              <span class="tech-tag">Algorithms</span>
              <span class="tech-tag">Data Structures</span>
            </div>
            <div class="project-description">
              Algorithm to find the minimum distance between stars in the R136 star cluster. Implementation of efficient geometric algorithms to solve closest pair problems in a Cartesian plane with optimal time complexity.
            </div>
            <div class="project-links">
              <a href="https://github.com/MartinCortes20/StarClusterR136" target="_blank" class="project-link primary">
                <i class="fab fa-github"></i>
                View Code
              </a>
            </div>
          </div>
        </div>

        <!-- Proyecto 2: Store Inventory System -->
        <div class="project-card">
          <div class="project-image">
            <img src="./Projects/SuperMArket.gif" alt="Store Inventory System" />
          </div>
          <div class="project-content">
            <div class="project-title">Department Store Inventory</div>
            <div class="project-tech">
              <span class="tech-tag">Java</span>
              <span class="tech-tag">Hash Tables</span>
              <span class="tech-tag">GUI</span>
              <span class="tech-tag">File I/O</span>
            </div>
            <div class="project-description">
              Inventory management system for 75 store items using hash techniques for efficient data access. Features collision resolution, file loading, and a user-friendly interface for product queries and management.
            </div>
            <div class="project-links">
              <a href="https://github.com/MartinCortes20/ExamenTercerParcialAlgoritmosMartinGUI" target="_blank" class="project-link primary">
                <i class="fab fa-github"></i>
                View Code
              </a>
            </div>
          </div>
        </div>

        <!-- Proyecto 3: File Sorting Algorithm -->
        <div class="project-card">
          <div class="project-image">
            <img src="./Projects/a lot of files.gif" alt="File Sorting" />
          </div>
          <div class="project-content">
            <div class="project-title">Advanced File Sorting System</div>
            <div class="project-tech">
              <span class="tech-tag">Java</span>
              <span class="tech-tag">Sorting Algorithms</span>
              <span class="tech-tag">Performance Analysis</span>
            </div>
            <div class="project-description">
              Implementation and comparison of multiple sorting algorithms to determine the most efficient approach for large file datasets. Includes performance metrics and algorithm complexity analysis.
            </div>
            <div class="project-links">
              <a href="https://github.com/MartinCortes20/2doExamenMartinCortesGUI" target="_blank" class="project-link primary">
                <i class="fab fa-github"></i>
                View Code
              </a>
            </div>
          </div>
        </div>

        <!-- Proyecto 4: Olympics Podium System -->
        <div class="project-card">
          <div class="project-image">
            <img src="./Projects/match.gif" alt="Olympics Podium" />
          </div>
          <div class="project-content">
            <div class="project-title">Olympics Podium Management</div>
            <div class="project-tech">
              <span class="tech-tag">Java</span>
              <span class="tech-tag">Binary Search Trees</span>
              <span class="tech-tag">Data Management</span>
            </div>
            <div class="project-description">
              Olympic medal tracking system using three binary search trees (Gold, Silver, Bronze) to store athlete information. Features point calculation system and alphabetical sorting by athlete name.
            </div>
            <div class="project-links">
              <a href="https://github.com/MartinCortes20/ExamenAlgoritmosCortesBuendia2022" target="_blank" class="project-link primary">
                <i class="fab fa-github"></i>
                View Code
              </a>
            </div>
          </div>
        </div>

        <!-- Proyecto 5: Personal Portfolio Website -->
        <div class="project-card">
          <div class="project-image">
            <img src="./Projects//website.gif" alt="Portfolio Website" />
          </div>
          <div class="project-content">
            <div class="project-title">Interactive Portfolio Website</div>
            <div class="project-tech">
              <span class="tech-tag">HTML5</span>
              <span class="tech-tag">CSS3</span>
              <span class="tech-tag">JavaScript</span>
              <span class="tech-tag">GSAP</span>
            </div>
            <div class="project-description">
              Modern, responsive portfolio website featuring advanced animations, interactive elements, and optimized performance. Built with vanilla JavaScript and GSAP for smooth user experience.
            </div>
            <div class="project-links">
              <a href="https://martincortes20.github.io/MartinCortessWebsite.github.io/Website/index.html" class="project-link primary">
                <i class="fas fa-external-link-alt"></i>
                Live Demo
              </a>
              <a href="https://github.com/MartinCortes20/MartinCortessWebsite.github.io" target="_blank" class="project-link">
                <i class="fab fa-github"></i>
                Code
              </a>
            </div>
          </div>
        </div>

        <!-- Proyecto 6: Mobile App Project -->
        <div class="project-card">
          <div class="project-image">
            <img src="./Projects/nutricom.gif" alt="Flutter Mobile App" />
          </div>
          <div class="project-content">
            <div class="project-title">Cross-Platform Mobile App</div>
            <div class="project-tech">
              <span class="tech-tag">Flutter</span>
              <span class="tech-tag">Dart</span>
              <span class="tech-tag">Firebase</span>
              <span class="tech-tag">REST API</span>
            </div>
            <div class="project-description">
              Cross-platform mobile application built with Flutter, featuring real-time data synchronization, user authentication, and intuitive UI/UX design. Integrated with Firebase backend services.
            </div>
            <div class="project-links">
              <a href="https://github.com/leonardo21319/SoftwareMovilFlutter" class="project-link primary">
                <i class="fab fa-github"></i>
                View Code
              </a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

    <!-- Cuarta sección (Jobs) -->
 <section id="jobs" class="section section-jobs">
  <div class="container">
    <h2>MY PROFESSIONAL EXPERIENCE</h2>
    <div class="jobs-container">
      <!-- Trabajo 1 - Actual -->
      <div class="job-card">
        <div class="job-image">
          <img src="./Projects/sapsy.png" alt="Backend Developer" />
        </div>
        <div class="job-content">
          <div class="job-title">Backend Developer</div>
          <div class="job-company">S.A.P.S.Y (Sistema de Agua Potable y Saneamiento de Yautepec)</div>
          <div class="job-period">June 2024 - November 2024</div>
          <div class="job-description">
            Developed software for water consumption management. Implemented backend services using Node.js and Express. Ensured user security through password hashing (bcrypt) and JWT-based authentication. Connected and optimized databases.
          </div>
        </div>
      </div>
      
      <!-- Trabajo 2 -->
      <div class="job-card">
        <div class="job-image">
          <img src="./Projects//by3solution.jpg" alt="Point of Sale Developer" />
        </div>
        <div class="job-content">
          <div class="job-title">Point of Sale Developer</div>
          <div class="job-company">By 3 Solutions</div>
          <div class="job-period">February 2023 - June 2023</div>
          <div class="job-description">
            Developed point-of-sale systems using JavaScript and Node.js. Integrated backend services and APIs. Worked on full-stack development with a focus on user experience and efficiency.
          </div>
        </div>
      </div>
      
      <!-- Trabajo 3 -->
      <div class="job-card">
        <div class="job-image">
          <img src="./Projects/totalplay.webp" alt="Application Development Intern" />
        </div>
        <div class="job-content">
          <div class="job-title">Application Development Intern</div>
          <div class="job-company">Totalplay</div>
          <div class="job-period">September 2022 - February 2023</div>
          <div class="job-description">
            Developed applications using Swift and Objective-C. Collaborated with senior developers on new features. Participated in debugging and troubleshooting code issues.
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Quinta sección (Contact Me) -->
<section id="contact-me" class="section section-contact">
  <div class="particles"></div>
  <div class="contact-container">
    <h2>CONTACT ME</h2>
    <p>Interested in collaborating? Feel free to reach out through any of these channels.</p>
    
    <div class="contact-icons">
      <!-- Email -->
      <div class="contact-icon" data-platform="email">
        <div class="contact-icon-inner">
          <a href="mailto:cortesbuendiamartin@gmail.com">
            <i class="fas fa-envelope"></i>
          </a>
        </div>
        <div class="contact-name">Email</div>
      </div>
      
      <!-- GitHub -->
      <div class="contact-icon" data-platform="github">
        <div class="contact-icon-inner">
          <a href="https://github.com/MartinCortes20" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        </div>
        <div class="contact-name">GitHub</div>
      </div>
      
      <!-- LinkedIn -->
      <div class="contact-icon" data-platform="linkedin">
        <div class="contact-icon-inner">
          <a href="https://www.linkedin.com/in/martin-francisco-cortes-8bb642272/" target="_blank">
            <i class="fab fa-linkedin-in"></i>
          </a>
        </div>
        <div class="contact-name">LinkedIn</div>
      </div>
      
      <!-- Instagram -->
      <div class="contact-icon" data-platform="instagram">
        <div class="contact-icon-inner">
          <a href="https://www.instagram.com/martin_cortia/" target="_blank">
            <i class="fab fa-instagram"></i>
          </a>
        </div>
        <div class="contact-name">Instagram</div>
      </div>
      
      <!-- WhatsApp -->
      <div class="contact-icon" data-platform="whatsapp">
        <div class="contact-icon-inner">
          <a href="https://wa.me/5518323146" target="_blank">
            <i class="fab fa-whatsapp"></i>
          </a>
        </div>
        <div class="contact-name">WhatsApp</div>
      </div>
    </div>
  </div>
</section>

  <!-- GSAP Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

  <!-- Preloader Script -->
  <script>
    // Sistema de Preloader para móviles
    class MobilePreloader {
      constructor() {
        this.isMobile = window.innerWidth <= 968;
        this.loadedAssets = 0;
        this.totalAssets = 0;
        this.progressFill = document.getElementById('progressFill');
        this.preloaderText = document.getElementById('preloaderText');
        this.preloader = document.getElementById('mobilePreloader');
        
        this.loadingMessages = [
          'Cargando experiencia...',
          'Preparando portafolio...',
          'Optimizando para móvil...',
          '¡Casi listo!'
        ];
        
        this.init();
      }

      init() {
        // Detectar cuando el DOM está listo
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', () => this.startLoading());
        } else {
          this.startLoading();
        }
      }

      startLoading() {
        // Contar assets para cargar
        this.countAssets();
        
        // Iniciar progreso simulado
        this.simulateProgress();
        
        // Esperar a que todo esté cargado
        Promise.all([
          this.waitForImages(),
          this.waitForFonts(),
          this.waitForScripts(),
          this.minLoadingTime(2000) // Mínimo 2 segundos para móviles
        ]).then(() => {
          this.finishLoading();
        }).catch((error) => {
          console.warn('Error en preloader:', error);
          // Fallback: cargar después de timeout
          setTimeout(() => this.finishLoading(), 3000);
        });
      }

      countAssets() {
        const images = document.querySelectorAll('img');
        const scripts = document.querySelectorAll('script[src]');
        const stylesheets = document.querySelectorAll('link[rel="stylesheet"]');
        
        this.totalAssets = images.length + scripts.length + stylesheets.length;
      }

      simulateProgress() {
        let progress = 0;
        let messageIndex = 0;
        
        const progressInterval = setInterval(() => {
          progress += Math.random() * 15;
          
          if (progress > 90) {
            progress = 90;
            clearInterval(progressInterval);
          }
          
          this.updateProgress(progress);
          
          // Cambiar mensaje ocasionalmente
          if (Math.random() > 0.7 && messageIndex < this.loadingMessages.length - 1) {
            messageIndex++;
            this.preloaderText.textContent = this.loadingMessages[messageIndex];
          }
        }, 200);
      }

      waitForImages() {
        return new Promise((resolve) => {
          const images = document.querySelectorAll('img');
          let loadedImages = 0;
          
          if (images.length === 0) {
            resolve();
            return;
          }
          
          images.forEach((img) => {
            if (img.complete) {
              loadedImages++;
            } else {
              img.addEventListener('load', () => {
                loadedImages++;
                if (loadedImages === images.length) resolve();
              });
              
              img.addEventListener('error', () => {
                loadedImages++;
                if (loadedImages === images.length) resolve();
              });
            }
          });
          
          if (loadedImages === images.length) resolve();
        });
      }

      waitForFonts() {
        return new Promise((resolve) => {
          if (!document.fonts) {
            resolve();
            return;
          }
          
          document.fonts.ready.then(() => {
            resolve();
          }).catch(() => {
            resolve(); // Continuar aunque falle
          });
        });
      }

      waitForScripts() {
        return new Promise((resolve) => {
          // Esperar a que GSAP esté disponible
          const checkGSAP = () => {
            if (typeof gsap !== 'undefined') {
              resolve();
            } else {
              setTimeout(checkGSAP, 100);
            }
          };
          
          checkGSAP();
        });
      }

      minLoadingTime(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }

      updateProgress(percentage) {
        percentage = Math.min(percentage, 100);
        this.progressFill.style.width = percentage + '%';
      }

      finishLoading() {
        // Completar progreso
        this.updateProgress(100);
        this.preloaderText.textContent = '¡Listo!';
        
        setTimeout(() => {
          // Fade out del preloader
          this.preloader.classList.add('fade-out');
          
          // Mostrar contenido
          document.body.classList.remove('loading');
          document.body.classList.add('loaded');
          
          // Ir a la primera sección automáticamente
          this.scrollToFirstSection();
          
          // Eliminar preloader después de la transición
          setTimeout(() => {
            this.preloader.remove();
            
            // Inicializar animaciones si es necesario
            this.initializeAnimations();
          }, 800);
        }, 500);
      }

      scrollToFirstSection() {
        // Esperar un poco para que el contenido sea visible
        setTimeout(() => {
          const firstSection = document.getElementById('inicio') || document.querySelector('.section-hero') || document.querySelector('.section');
          
          if (firstSection) {
            // Opción 1: Scroll suave
            firstSection.scrollIntoView({ 
              behavior: 'smooth',
              block: 'start',
              inline: 'nearest'
            });
            
            // Fallback para navegadores que no soporten scrollIntoView smooth
            setTimeout(() => {
              window.scrollTo({
                top: 0,
                left: 0,
                behavior: 'smooth'
              });
            }, 100);
            
            console.log('Navegando a la primera sección');
          } else {
            // Fallback: ir al inicio de la página
            window.scrollTo({
              top: 0,
              left: 0,
              behavior: 'smooth'
            });
          }
        }, 200);
      }

      initializeAnimations() {
        // Configurar GSAP para móviles
        if (this.isMobile && typeof gsap !== 'undefined') {
          gsap.config({ 
            force3D: false,
            nullTargetWarn: false
          });
          
          // Animación suave de entrada para el contenido
          gsap.from('.section', {
            opacity: 0,
            y: 30,
            duration: 1,
            stagger: 0.2,
            ease: "power2.out",
            onComplete: () => {
              // Asegurar que todas las secciones tengan opacidad completa
              gsap.set('.section', { opacity: 1, clearProps: "all" });
              
              // Asegurar scroll a la primera sección después de las animaciones
              this.ensureFirstSectionVisible();
            }
          });
        } else {
          // Para desktop, asegurar opacidad completa inmediatamente
          if (typeof gsap !== 'undefined') {
            gsap.set('.section', { opacity: 1, clearProps: "all" });
          }
          
          // Asegurar posición en primera sección
          this.ensureFirstSectionVisible();
        }
        
        // Asegurar que no haya elementos con opacidad reducida
        const sections = document.querySelectorAll('.section');
        sections.forEach(section => {
          section.style.opacity = '1';
          section.style.visibility = 'visible';
        });
        
        // Disparar evento personalizado cuando todo esté listo
        window.dispatchEvent(new CustomEvent('preloaderComplete'));
      }

      ensureFirstSectionVisible() {
        // Verificación final para asegurar que estamos en la primera sección
        setTimeout(() => {
          if (window.scrollY > 100) {
            window.scrollTo({
              top: 0,
              left: 0,
              behavior: 'smooth'
            });
          }
        }, 500);
      }
    }

    // Inicializar preloader
    new MobilePreloader();

    // Script de emergencia para casos extremos
    window.addEventListener('load', function() {
      setTimeout(function() {
        const body = document.body;
        const preloader = document.getElementById('mobilePreloader');
        
        if (body.classList.contains('loading')) {
          console.log('Activando fallback de emergencia');
          body.classList.remove('loading');
          body.classList.add('loaded');
          
          if (preloader) {
            preloader.style.display = 'none';
          }
        }
      }, 5000); // Fallback después de 5 segundos máximo
    });
  </script>

  <!-- JavaScript Files originales -->
  <script>
    // Esperar a que el preloader termine antes de cargar scripts adicionales
    window.addEventListener('preloaderComplete', function() {
      // Cargar scripts adicionales aquí si es necesario
      console.log('Preloader completado, sitio listo');
      
      // Fix adicional para asegurar visibilidad de secciones
      setTimeout(() => {
        const sections = document.querySelectorAll('.section');
        sections.forEach(section => {
          section.style.opacity = '1';
          section.style.visibility = 'visible';
          section.style.transform = 'none';
        });
        
        // Verificación final de posición
        if (window.scrollY > 50) {
          window.scrollTo({
            top: 0,
            left: 0,
            behavior: 'smooth'
          });
        }
      }, 100);
    });

    // Función adicional para asegurar navegación a primera sección
    function goToFirstSection() {
      const firstSection = document.getElementById('inicio') || document.querySelector('.section-hero');
      
      if (firstSection) {
        firstSection.scrollIntoView({ 
          behavior: 'smooth',
          block: 'start'
        });
      } else {
        window.scrollTo({
          top: 0,
          left: 0,
          behavior: 'smooth'
        });
      }
    }

    // Script de emergencia para móviles (mantenido como backup)
    (function() {
      const isMobile = window.innerWidth <= 968;
      
      if (isMobile) {
        // Configuración de emergencia para GSAP
        setTimeout(function() {
          if (typeof gsap !== 'undefined') {
            gsap.config({ force3D: false });
          }
        }, 100);
        
        // Timeout de seguridad adicional
        setTimeout(function() {
          const heroSection = document.querySelector('.section-hero');
          const allSections = document.querySelectorAll('.section');
          
          // Asegurar visibilidad de todas las secciones
          allSections.forEach(section => {
            section.style.opacity = '1';
            section.style.visibility = 'visible';
            section.style.display = '';
          });
          
          if (heroSection && !heroSection.style.display) {
            heroSection.style.display = 'flex';
            heroSection.style.alignItems = 'center';
            heroSection.style.justifyContent = 'center';
            console.log('Mobile fallback de emergencia activado');
          }
          
          // Ir a la primera sección como fallback
          goToFirstSection();
        }, 6000);
      }
    })();

    // Fix adicional para prevenir oscurecimiento
    window.addEventListener('scroll', function() {
      const sections = document.querySelectorAll('.section');
      sections.forEach(section => {
        if (section.style.opacity !== '1') {
          section.style.opacity = '1';
        }
      });
    });

    // Evento cuando la página está completamente cargada
    window.addEventListener('load', function() {
      setTimeout(() => {
        // Asegurar que después de todo, estemos en la primera sección
        if (window.scrollY > 100) {
          goToFirstSection();
        }
      }, 1000);
    });
  </script>

  <!-- Scripts originales (cargarán después del preloader) -->
  <script src="./scripts/initialAnimation.js"></script>
  <script src="./scripts/introSection.js"></script>
  <script src="./scripts/contactSection.js"></script>
  <script src="./scripts/jobsSection.js"></script>
  <script src="./scripts/projectsSection.js"></script>

</body>
</html>